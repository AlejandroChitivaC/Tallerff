<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	<h:outputStylesheet>
        .rf-dt{
            width:400px;
        }
        .tooltip-text {
            width: 50px;
            height: 20px;
            cursor: arrow;
            border-width: 2px;
            text-align: center;
            display: table-cell;
            vertical-align: middle;
        }
        .acent{
            text-align: center;
        }
    </h:outputStylesheet>
	<f:view>
		<h:head><title>Gestión de Usuarios</title></h:head>
		<h:body>
			<h:form>
				<h:panelGrid columnClasses="acent">
					<rich:dataScroller for="tablaPaginada" maxPages="5" fastStep="3" />
					<rich:dataTable value="#{usuarioBean.listarUsuarios}" var="usuario"
						id="tablaPaginada" width="1000px" rows="3">
						<f:facet name="header">
							<h:outputText value="Lista de Usuarios" />
						</f:facet>
						<rich:column sortBy="#{usuario.id}">
							<f:facet name="header">
								<h:outputText value="Id" />
							</f:facet>
							<h:outputText value="#{usuario.id}" />
						</rich:column>
						<rich:column sortBy="#{usuario.login}">
							<f:facet name="header">
								<h:outputText value="Login" />
							</f:facet>
							<h:outputText value="#{usuario.login}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Clave" />
							</f:facet>
							<h:outputText value="*******" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Nombres Apellidos" />
							</f:facet>
							<h:outputText value="#{usuario.apellidosNombres}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Correo" />
							</f:facet>
							<h:outputText value="#{usuario.correo}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Celular" />
							</f:facet>
							<h:outputText value="#{usuario.celular}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Fecha Último Password" />
							</f:facet>
							<h:outputText value="#{usuario.fechaUltimoPassword}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Tipo Usuario" />
							</f:facet>
							<h:outputText value="#{usuario.tipoUsuario}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Estado" />
							</f:facet>
							<h:outputText value="Activo" rendered="#{'A' eq usuario.activo}" />
							<h:outputText value="InActivo"
								rendered="#{'I' eq usuario.activo}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Modificar" />
							</f:facet>
							<h:form>
								<a4j:commandButton image="/img/page_edit.png"
									action="#{usuarioBean.prepararModificarUsuario}">
									<rich:tooltip followMouse="true" showDelay="200">
										<p class="tooltip-text">Editar</p>
									</rich:tooltip>
								</a4j:commandButton>
							</h:form>
						</rich:column>

						<rich:column>
							<f:facet name="header">
								<h:outputText value="Eliminar" />
							</f:facet>
							<h:form>
								<a4j:commandButton image="/img/bin_closed_16.png"
									action="#{usuarioBean.eliminarUsuario}">
									<rich:tooltip followMouse="true" showDelay="200">
										<p class="tooltip-text">Eliminar</p>
									</rich:tooltip>
								</a4j:commandButton>
							</h:form>
						</rich:column>

					</rich:dataTable>
					<rich:dataScroller for="tablaPaginada" maxPages="5" fastStep="3" />
					<h:form>
						<a4j:commandButton image="/img/add.png"
							action="#{usuarioBean.prepararAdicionarUsuario}">
							<rich:tooltip followMouse="true" showDelay="200">
								<p class="tooltip-text">Agregar</p>
							</rich:tooltip>
						</a4j:commandButton>
					</h:form>
				</h:panelGrid>
			</h:form>
		</h:body>
	</f:view>
</ui:composition>